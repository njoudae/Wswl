<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ููุตููููู</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="face-api.min.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- Welcome Screen -->
         <!-- First Role Selection Screen -->
        <div id="role-screen" class="screen active">
            <div class="role-content">

                <!-- Language Dropdown -->
                <div class="language-dropdown">
                    <div class="custom-dropdown">
                        <button class="dropdown-btn" onclick="toggleLanguageDropdown()">
                            <span class="dropdown-arrow">โผ</span>
                            <span class="translation-icon">Aa</span>
                        </button>
                        <div class="dropdown-menu" id="language-dropdown-menu">
                            <div class="dropdown-item" onclick="changeLanguage('ar')" data-lang="ar">ุนุฑุจู</div>
                            <div class="dropdown-item" onclick="changeLanguage('en')" data-lang="en">English</div>
                            <div class="dropdown-item" onclick="changeLanguage('ur')" data-lang="ur">ุงุฑุฏู</div>
                            <div class="dropdown-item" onclick="changeLanguage('bn')" data-lang="bn">เฆฌเฆพเฆเฆฒเฆพ</div>
                        </div>
                    </div>
                </div>

                <h1 class="role-title">ุงุฎุชูุงุฑ ููุน ุงููุณุชุฎุฏู</h1>

                <div class="role-buttons">
                    <button class="btn btn-primary" onclick="selectRole('student')">ุทุงูุจ</button>
                    <button class="btn btn-secondary" onclick="selectRole('driver')">ุณุงุฆู</button>
                </div>

            </div>
        </div>

        <div id="welcome-screen" class="screen">
            <div class="welcome-content">
                <div class="language-dropdown">
                    <div class="custom-dropdown">
                        <button class="dropdown-btn" onclick="toggleLanguageDropdown()">
                            <span class="dropdown-arrow">โผ</span>
                            <span class="translation-icon">Aa</span>
                        </button>
                        <div class="dropdown-menu" id="language-dropdown-menu">
                            <div class="dropdown-item" onclick="changeLanguage('ar')" data-lang="ar">
                                <span>ุนุฑุจู</span>
                            </div>
                            <div class="dropdown-item" onclick="changeLanguage('en')" data-lang="en">
                                <span>English</span>
                            </div>
                            <div class="dropdown-item" onclick="changeLanguage('ur')" data-lang="ur">
                                <span>ุงุฑุฏู</span>
                            </div>
                            <div class="dropdown-item" onclick="changeLanguage('bn')" data-lang="bn">
                                <span>เฆฌเฆพเฆเฆฒเฆพ</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="logo">
                    <i class="truck-icon">๐</i>
                </div>
                <h1 id="welcome-title">ููุตููููู</h1>
                <p id="welcome-subtitle">ูุธุงู ุงูููู ุงูุฌุงูุนู ุงูุฐูู</p>
                <div class="welcome-buttons">
                    <button class="btn btn-primary" onclick="showScreen('login-screen') " id="login-btn">ุชุณุฌูู ุงูุฏุฎูู</button>
                    <button class="btn btn-secondary" onclick="showScreen('register-screen')" id="register-btn">ุงูุชุณุฌูู</button>
                </div>
            </div>
        </div>

        <!-- Registration Screen -->
        <div id="register-screen" class="screen">
            <div class="header">
                <button class="back-btn" onclick="showScreen('welcome-screen')">โ</button>
                <h2>ุชุณุฌูู ุงูุณุงุฆู</h2>
            </div>
            <div class="form-container">
                <form id="register-form" autocomplete="off">
                    <div class="form-group">
                        <label for="reg-name">ุงูุงุณู ุงููุงูู</label>
                        <input type="text" id="reg-name" required>
                    </div>
                    <div class="form-group">
                        <label for="reg-national-id">ุฑูู ุงููููุฉ</label>
                        <input type="text" id="reg-national-id" required>
                    </div>
                    <div class="form-group">
                        <label for="reg-truck-number">ุฑูู ุงูุญุงููุฉ</label>
                        <input type="text" id="reg-truck-number" required>
                    </div>
                    <div class="form-group">
                        <label for="reg-cargo-type">ุงูุญู</label>
                        <select id="reg-cargo-type" required>
                            <option value="">ุงุฎุชุฑ ุงูุญู</option>
                            <option value="general">ุงูููุณู</option>
                            <option value="hazardous">ุงูุจุฏูุน</option>
                            <option value="refrigerated">ุงูุฎุงูุฏูุฉ</option>
                            <option value="bulk">ุงููุญุงูุฉ</option>
                            <option value="container">ุงูููุธููู</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>ุตูุฑุฉ ุงูุณุงุฆู</label>
                        <div class="photo-capture" id="reg-photo-capture">
                            <video id="reg-video" autoplay muted></video>
                            <canvas id="reg-canvas" style="display: none;"></canvas>
                            <div class="photo-controls">
                                <button type="button" class="btn btn-secondary" onclick="startCamera('reg')">ุชุดุบูู ุงููุงููุฑุง</button>
                                <button type="button" class="btn btn-primary" onclick="capturePhoto('reg')">ุงูุชูุงุท ุตูุฑุฉ</button>
                            </div>
                            <div id="reg-photo-preview" class="photo-preview"></div>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary btn-full">ุชุณุฌูู</button>
                </form>
            </div>
        </div>

        <!-- Login Screen -->
        <div id="login-screen" class="screen">
            <div class="header">
                <button class="back-btn" onclick="showScreen('welcome-screen')">โ</button>
                <h2>ุชุณุฌูู ุฏุฎูู ุงูุณุงุฆู</h2>
            </div>
            <div class="form-container">
                <form id="login-form" autocomplete="off">
                    <div class="form-group">
                        <label for="login-national-id">ุฑูู ุงููููุฉ</label>
                        <input type="text" id="login-national-id" required>
                    </div>
                    <div class="form-group">
                        <label>ุงูุชุญูู ูู ุงููุฌู</label>
                        <div class="photo-capture" id="login-photo-capture">
                            <video id="login-video" autoplay muted></video>
                            <canvas id="login-canvas" style="display: none;"></canvas>
                            <div class="photo-controls">
                                <button type="button" class="btn btn-secondary" onclick="startCamera('login')">ุชุดุบูู ุงููุงููุฑุง</button>
                                <button type="button" class="btn btn-primary" onclick="capturePhoto('login')">ุงูุชูุงุท ุตูุฑุฉ</button>
                                <button type="button" class="btn btn-primary" onclick="verifyFace()">ุงูุชุญูู ูู ุงููุฌู</button>
                            </div>
                            <div id="login-photo-preview" class="photo-preview"></div>
                            <div id="verification-status" class="verification-status"></div>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary btn-full">ุชุณุฌูู ุงูุฏุฎูู</button>
                </form>
            </div>
        </div>

        <!-- Driver Dashboard -->
        <div id="dashboard-screen" class="screen">
            <div class="header">
                <h2>ููุญุฉ ุชุญูู ุงูุณุงุฆู</h2>
                <button class="logout-btn" onclick="logout()">ุชุณุฌูู ุงูุฎุฑูุฌ</button>
            </div>
            <div class="dashboard-content">
                <div class="driver-info">
                    <div class="driver-photo">
                        <img id="driver-photo" src="" alt="ุตูุฑุฉ ุงูุณุงุฆู">
                    </div>
                    <div class="driver-details">
                        <h3 id="driver-name"></h3>
                        <p id="driver-national-id"></p>
                        <p id="driver-truck-number"></p>
                        <p id="driver-cargo-type"></p>
                    </div>
                </div>
                <div class="dashboard-actions">
                    <button class="btn btn-primary btn-full" onclick="showScreen('permit-screen')">ุทูุจ ุชุตุฑูุญ ุฌุฏูุฏ</button>
                    <button class="btn btn-secondary btn-full" onclick="showScreen('history-screen')">ุนุฑุถ ุงูุณุฌู</button>
                </div>
            </div>
        </div>

        <!-- Permit Request Screen -->
        <div id="permit-screen" class="screen">
            <div class="header">
                <button class="back-btn" onclick="showScreen('dashboard-screen')">โ</button>
                <h2>ุชุญุถูุฑ</h2>
            </div>
            <div class="form-container">
                <form id="permit-form" autocomplete="off">
                    <div class="form-group">
                        <label for="permit-date">ุงูุชุงุฑูุฎ</label>
                        <input type="date" id="permit-date" required>
                    </div>
                    <div class="form-group">
                        <label for="permit-time">ุงููุชุฑุฉ ุงูุฒูููุฉ</label>
                        <select id="permit-time" required>
                            <option value="">ุงุฎุชุฑ ุงููุชุฑุฉ ุงูุฒูููุฉ</option>
                            <option value="06:00-10:00">06:00 - 10:00</option>
                            <option value="10:00-14:00">10:00 - 14:00</option>
                            <option value="14:00-18:00">14:00 - 18:00</option>
                            <option value="18:00-22:00">18:00 - 22:00</option>
                            <option value="22:00-02:00">22:00 - 02:00</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="permit-route">ุงููุณุงุฑ</label>
                        <select id="permit-route" required>
                            <option value="">ุงุฎุชุฑ ุงููุณุงุฑ</option>
                            <option value="north-highway">ุงูุทุฑูู ุงูุดูุงูู (ุงููุฏููุฉ ุฃ โ ุงููุฏููุฉ ุจ)</option>
                            <option value="south-highway">ุงูุทุฑูู ุงูุฌููุจู (ุงููุฏููุฉ ุฃ โ ุงููุฏููุฉ ุฌ)</option>
                            <option value="east-highway">ุงูุทุฑูู ุงูุดุฑูู (ุงููุฏููุฉ ุฃ โ ุงููุฏููุฉ ุฏ)</option>
                            <option value="west-highway">ุงูุทุฑูู ุงูุบุฑุจู (ุงููุฏููุฉ ุฃ โ ุงููุฏููุฉ ู)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="permit-purpose">ููุงุญุธุงุช</label>
                        <textarea id="permit-purpose" rows="3" placeholder="ุงูุชุจ ููุงุญุธุงุชู   "></textarea>
                    </div>
                    <!-- ...existing code... -->
                    <a href="map.html" class="btn btn-primary btn-full"> ุจุฏุก ุงูุชุชุจุน</a>
                    <!-- ...existing code... -->
                </form>
            </div>
        </div>

        <!-- History Screen -->
        <div id="history-screen" class="screen">
            <div class="header">
                <button class="back-btn" onclick="showScreen('dashboard-screen')">โ</button>
                <h2>ุณุฌู ุงูุฏูุงู</h2>
            </div>
            <div class="history-container">
                <div id="history-list" class="history-list">
                    <!-- History items will be populated here -->
                </div>
            </div>
        </div>
    </div>
    <script defer src="face-api.min.js"></script>
    <script src="script.js"></script>
    

</body>
</html> 